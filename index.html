<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Defi minera√ß√£o - Roda da Sorte</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    text-align: center;
    background-color: #f8f8f8;
    padding: 20px;
  }
  canvas {
    margin-top: 20px;
  }
  #spinbtn {
    margin-top: 20px;
    padding: 15px 40px;
    font-size: 20px;
    background: #28a745;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
  }
  #result {
    margin-top: 20px;
    font-size: 24px;
    color: #333;
    font-weight: bold;
  }
</style>
</head>
<body>

<h1>üéÅ Roda da Sorte DeFi</h1>
<canvas id="wheelcanvas" width="400" height="400"></canvas>
<br>
<button id="spinbtn">Girar a roda üéâ</button>
<div id="result"></div>

<script>
const prizes = [
  "5 USDT",
  "100 USDT",
  "1000 USDT",
  "Obrigado",
  "3 dias gr√°tis",
  "30 dias gr√°tis"
];
const colors = ["#f44336", "#ff9800", "#4caf50", "#2196f3", "#9c27b0", "#009688"];

const canvas = document.getElementById("wheelcanvas");
const ctx = canvas.getContext("2d");
const centerX = canvas.width / 2;
const centerY = canvas.height / 2;
const radius = 180;
const segmentAngle = (2 * Math.PI) / prizes.length;

let currentAngle = 0;
let isSpinning = false;

function drawWheel(angle) {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.save();
  ctx.translate(centerX, centerY);
  ctx.rotate(angle);
  for (let i = 0; i < prizes.length; i++) {
    ctx.beginPath();
    ctx.fillStyle = colors[i];
    ctx.moveTo(0, 0);
    ctx.arc(0, 0, radius, i * segmentAngle, (i + 1) * segmentAngle);
    ctx.lineTo(0, 0);
    ctx.fill();

    ctx.save();
    ctx.rotate(i * segmentAngle + segmentAngle / 2);
    ctx.fillStyle = "#fff";
    ctx.font = "bold 18px Arial";
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";
    ctx.fillText(prizes[i], radius * 0.65, 0);
    ctx.restore();
  }
  ctx.restore();

  ctx.fillStyle = "black";
  ctx.beginPath();
  ctx.moveTo(centerX - 10, centerY - radius - 10);
  ctx.lineTo(centerX + 10, centerY - radius - 10);
  ctx.lineTo(centerX, centerY - radius + 5);
  ctx.closePath();
  ctx.fill();
}

function spin() {
  if (isSpinning) return;
  isSpinning = true;
  document.getElementById("result").textContent = "";
  const spins = Math.floor(Math.random() * 5) + 5;
  const randomIndex = Math.floor(Math.random() * prizes.length);
  const finalAngle = (2 * Math.PI) * spins + randomIndex * segmentAngle + segmentAngle / 2;

  let start = null;
  function animate(timestamp) {
    if (!start) start = timestamp;
    const elapsed = timestamp - start;
    const duration = 4000;
    if (elapsed < duration) {
      const progress = elapsed / duration;
      currentAngle = finalAngle * easeOut(progress);
      drawWheel(currentAngle);
      requestAnimationFrame(animate);
    } else {
      currentAngle = finalAngle;
      drawWheel(currentAngle);
      setTimeout(() => {
        const prize = prizes[randomIndex];
        document.getElementById("result").textContent = "üéâ Voc√™ ganhou: " + prize;
        setTimeout(() => {
          window.location.href = "http://hot8881.com";
        }, 3000);
        isSpinning = false;
      }, 300);
    }
  }
  requestAnimationFrame(animate);
}

function easeOut(t) {
  return t * (2 - t);
}

drawWheel(0);
document.getElementById("spinbtn").addEventListener("click", spin);
</script>

</body>
</html>
